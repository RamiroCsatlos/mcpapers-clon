{"version":3,"file":"api-DYWlyU2w.js","sources":["../../src/hooks/useContactAnimations.js","../../src/utils/api.js"],"sourcesContent":["// Migrado a usar useAnimations.js para mayor consistencia\r\nimport { useInView } from 'react-intersection-observer';\r\nimport { ANIMATION_PRESETS } from './useAnimations';\r\n\r\nexport const useContactAnimations = () => {\r\n  const options = ANIMATION_PRESETS.DEFAULT;\r\n  \r\n  // Hooks optimizados con configuración centralizada\r\n  const { ref: titleRef, inView: titleInView } = useInView(options);\r\n  const { ref: imgRef, inView: imgInView } = useInView(options);\r\n  const { ref: formRef, inView: formInView } = useInView(options);\r\n  const { ref: infoRef, inView: infoInView } = useInView(options);\r\n  const { ref: mapRef, inView: mapInView } = useInView(options);\r\n\r\n  return {\r\n    titleRef,\r\n    titleInView,\r\n    imgRef,\r\n    imgInView,\r\n    formRef,\r\n    formInView,\r\n    infoRef,\r\n    infoInView,\r\n    mapRef,\r\n    mapInView\r\n  };\r\n};\r\n\r\nexport default useContactAnimations;\r\n","// src/utils/api.js\r\n// Servicios para interactuar con el backend de contacto, CV y cotización\r\n// Usa fetch y variables de entorno para la URL base\r\n\r\nconst API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:4000';\r\n\r\nexport async function sendContact(data) {\r\n  try {\r\n    // Intentar el backend real\r\n    const res = await fetch(`${API_BASE_URL}/api/contact`, {\r\n      method: 'POST',\r\n      headers: { \r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n    \r\n    if (!res.ok) {\r\n      const errorText = await res.text();\r\n      throw new Error(`Error ${res.status}: ${errorText}`);\r\n    }\r\n    \r\n    const result = await res.json();\r\n    return result;\r\n  } catch (error) {\r\n    // Fallback para GitHub Pages cuando el backend no esté disponible\r\n    if (window.location.hostname === 'ramirocsatlos.github.io' && error.message.includes('fetch')) {\r\n      \r\n      // Simular delay de red\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      return {\r\n        success: true,\r\n        message: 'Mensaje enviado correctamente (simulado - backend no accesible)',\r\n        id: Date.now()\r\n      };\r\n    }\r\n    \r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function sendCV(data) {\r\n  const res = await fetch(`${API_BASE_URL}/api/cv`, {\r\n    method: 'POST',\r\n    body: data, // FormData\r\n  });\r\n  if (!res.ok) throw new Error('Error enviando CV');\r\n  return res.json();\r\n}\r\n\r\nexport async function sendQuote(data) {\r\n  const res = await fetch(`${API_BASE_URL}/api/quote`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  });\r\n  if (!res.ok) throw new Error('Error enviando cotización');\r\n  return res.json();\r\n}\r\n"],"names":["useContactAnimations","options","ANIMATION_PRESETS","titleRef","titleInView","useInView","imgRef","imgInView","formRef","formInView","infoRef","infoInView","mapRef","mapInView","API_BASE_URL","sendContact","data","res","errorText","error","resolve","sendCV"],"mappings":"kGAIY,MAACA,EAAuB,IAAM,CACxC,MAAMC,EAAUC,EAAkB,QAG5B,CAAE,IAAKC,EAAU,OAAQC,GAAgBC,EAAUJ,CAAO,EAC1D,CAAE,IAAKK,EAAQ,OAAQC,GAAcF,EAAUJ,CAAO,EACtD,CAAE,IAAKO,EAAS,OAAQC,GAAeJ,EAAUJ,CAAO,EACxD,CAAE,IAAKS,EAAS,OAAQC,GAAeN,EAAUJ,CAAO,EACxD,CAAE,IAAKW,EAAQ,OAAQC,GAAcR,EAAUJ,CAAO,EAE5D,MAAO,CACL,SAAAE,EACA,YAAAC,EACA,OAAAE,EACA,UAAAC,EACA,QAAAC,EACA,WAAAC,EACA,QAAAC,EACA,WAAAC,EACA,OAAAC,EACA,UAAAC,CACJ,CACA,ECtBMC,EAA+C,wBAErD,eAAsBC,EAAYC,EAAM,CACtC,GAAI,CAEF,MAAMC,EAAM,MAAM,MAAM,GAAGH,CAAY,eAAgB,CACrD,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,OAAU,kBAAA,EAEZ,KAAM,KAAK,UAAUE,CAAI,CAAA,CAC1B,EAED,GAAI,CAACC,EAAI,GAAI,CACX,MAAMC,EAAY,MAAMD,EAAI,KAAA,EAC5B,MAAM,IAAI,MAAM,SAASA,EAAI,MAAM,KAAKC,CAAS,EAAE,CACrD,CAGA,OADe,MAAMD,EAAI,KAAA,CAE3B,OAASE,EAAO,CAEd,GAAI,OAAO,SAAS,WAAa,2BAA6BA,EAAM,QAAQ,SAAS,OAAO,EAG1F,aAAM,IAAI,QAAQC,GAAW,WAAWA,EAAS,GAAI,CAAC,EAC/C,CACL,QAAS,GACT,QAAS,kEACT,GAAI,KAAK,IAAA,CAAI,EAIjB,MAAMD,CACR,CACF,CAEA,eAAsBE,EAAOL,EAAM,CACjC,MAAMC,EAAM,MAAM,MAAM,GAAGH,CAAY,UAAW,CAChD,OAAQ,OACR,KAAME,CAAA,CACP,EACD,GAAI,CAACC,EAAI,GAAI,MAAM,IAAI,MAAM,mBAAmB,EAChD,OAAOA,EAAI,KAAA,CACb"}